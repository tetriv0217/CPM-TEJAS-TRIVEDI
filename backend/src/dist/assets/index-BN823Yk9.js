import{aq as S,a,ap as p,ai as C,ah as c}from"./index-Ceshqiaz.js";import{s as _,S as b,e as w}from"./ErpApp-HOQT9QP8.js";import{c as x}from"./currencyList-mYH1Mcza.js";import{a4 as O,ai as j,aa as q}from"./IdurarOs-QiO0mqNX.js";import{u as v}from"./useFetch-zry2Bn3b.js";const U=()=>{const n=O(),u=S(),[o,l]=a.useState([]),i=p(),d=()=>q.listAll({entity:"currency",options:{enabled:!0}}),{result:y,isLoading:m,isSuccess:r}=v(d);a.useEffect(()=>{r&&l(y)},[r]);const f=C(_),h=e=>{const s=o.find(t=>t.currency_code===e);u(w.updateCurrency({data:{default_currency_code:s.currency_code}}))},g=e=>{e==="redirectURL"&&i("/settings/currency")},L=()=>{const e=[],s="redirectURL",t="+ Add New Currency";return e.push(...x()),e.push({value:s,label:t}),e};return c.jsx(j.Item,{label:n("currency"),name:"currency",rules:[{required:!0}],initialValue:f.default_currency_code,children:c.jsx(b,{showSearch:!0,loading:m,filterOption:(e,s)=>((s==null?void 0:s.label)??"").toLowerCase().includes(e.toLowerCase()),filterSort:(e,s)=>((e==null?void 0:e.label)??"").toLowerCase().startsWith(((s==null?void 0:s.label)??"").toLowerCase()),options:L(),onSelect:h,onChange:g})})};export{U as S};
