import{a as t,ah as a}from"./index-Ceshqiaz.js";const p="OPEN_MODAL",u="CLOSE_MODAL",E="OPEN_ADVANCED_BOX",i="CLOSE_ADVANCED_BOX",d="OPEN_EDIT_BOX",x="CLOSE_EDIT_BOX",C="OPEN_PANEL",P="CLOSE_PANEL",B="COLLAPSE_PANEL",_="OPEN_BOX",A="CLOSE_BOX",L="COLLAPSE_BOX",y="OPEN_READ_BOX",f="CLOSE_READ_BOX",S="COLLAPSE_READ_BOX",R={isModalOpen:!1,isPanelClose:!0,isBoxCollapsed:!1,isReadBoxOpen:!1,isAdvancedBoxOpen:!1,isEditBoxOpen:!1};function v(e,n){switch(n.type){case p:return{...e,isModalOpen:!0};case u:return{...e,isModalOpen:!1};case C:return{...e,isPanelClose:!1};case P:return{...e,isPanelClose:!0};case B:return{...e,isPanelClose:!e.isPanelClose};case _:return{...e,isBoxCollapsed:!0};case A:return{...e,isBoxCollapsed:!1};case L:return{...e,isBoxCollapsed:!e.isBoxCollapsed};case y:return{...e,isAdvancedBoxOpen:!1,isEditBoxOpen:!1,isReadBoxOpen:!0};case f:return{...e,isReadBoxOpen:!1};case E:return{...e,isReadBoxOpen:!1,isEditBoxOpen:!1,isAdvancedBoxOpen:!0};case i:return{...e,isAdvancedBoxOpen:!1};case d:return{...e,isReadBoxOpen:!1,isAdvancedBoxOpen:!1,isEditBoxOpen:!0};case x:return{...e,isEditBoxOpen:!1};case S:return{...e,isReadBoxOpen:!e.isReadBoxOpen};default:throw new Error(`Unhandled action type: ${n.type}`)}}const w=e=>({modal:{open:()=>{e({type:p})},close:()=>{e({type:u})}},advancedBox:{open:()=>{e({type:E})},close:()=>{e({type:i})}},editBox:{open:()=>{e({type:d})},close:()=>{e({type:x})}},panel:{open:()=>{e({type:C})},close:()=>{e({type:P})},collapse:()=>{e({type:B})}},collapsedBox:{open:()=>{e({type:_})},close:()=>{e({type:A})},collapse:()=>{e({type:L})}},readBox:{open:()=>{e({type:y}),console.log("readBox open")},close:()=>{e({type:f}),console.log("readBox close")},collapse:()=>{e({type:S})}}}),$=e=>({isModalOpen:()=>e.isModalOpen,isPanelOpen:()=>e.isPanelOpen,isBoxOpen:()=>e.isBoxOpen}),N=t.createContext();function j({children:e}){const[n,o]=t.useReducer(v,R),s=t.useMemo(()=>[n,o],[n]);return a.jsx(N.Provider,{value:s,children:e})}function g(){const e=t.useContext(N);if(e===void 0)throw new Error("useCrudContext must be used within a CrudContextProvider");const[n,o]=e,s=w(o),c=$(n);return{state:n,crudContextAction:s,crudContextSelector:c}}const D="OPEN_MODAL",M="CLOSE_MODAL",r="OPEN_PANEL",l="CLOSE_PANEL",O={create:{isOpen:!1},update:{isOpen:!1},read:{isOpen:!1},recordPayment:{isOpen:!1},deleteModal:{isOpen:!1},dataTableList:{isOpen:!0},last:null};function m(e,n){const{keyState:o=null}=n;switch(n.type){case D:return{...e,deleteModal:{isOpen:!0}};case M:return{...e,deleteModal:{isOpen:!1}};case r:return{...O,dataTableList:{isOpen:!1},[o]:{isOpen:!0}};case l:return{...O};default:throw new Error(`Unhandled action type: ${n.type}`)}}const T=e=>({modal:{open:()=>{e({type:D})},close:()=>{e({type:M})}},readPanel:{open:()=>{e({type:r,keyState:"read"})},close:()=>{e({type:l})}},updatePanel:{open:()=>{e({type:r,keyState:"update"})},close:()=>{e({type:l})}},createPanel:{open:()=>{e({type:r,keyState:"create"})},close:()=>{e({type:l})}},recordPanel:{open:()=>{e({type:r,keyState:"recordPayment"})},close:()=>{e({type:l})}}}),k=T,b=e=>({isModalOpen:()=>e.isModalOpen,isPanelOpen:()=>e.isPanelOpen,isBoxOpen:()=>e.isBoxOpen}),I=b,X=t.createContext();function U({children:e}){const[n,o]=t.useReducer(m,O),s=t.useMemo(()=>[n,o],[n]);return a.jsx(X.Provider,{value:s,children:e})}function q(){const e=t.useContext(X);if(e===void 0)throw new Error("useErpContext must be used within a ErpContextProvider");const[n,o]=e,s=k(o),c=I(n);return{state:n,erpContextAction:s,erpContextSelector:c}}export{j as C,U as E,g as a,q as u};
